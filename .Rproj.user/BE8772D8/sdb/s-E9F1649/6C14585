{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Desoto_Att_Disc_Achieve\"\nauthor: \"Quadrant-4\"\ndate: \"September 19, 2016\"\noutput: html_document\n---\nIn this Document, we venture into observing the relationship between Attendence, Discipline and the grades obtained. Let us list down the various objectives which needs to be set out for this analysis. \n\n1. Relationship between Attendence and grade\n2. Relationshp between discipline score and grade\n3. Relationship between Attendence and discipline\n4. Patterns in terms of Attendence - School,Race, Time of year, Economic status, Sections\n5. Patterns in terms of Discipline - School,Race, Time of year, Ecomonic status, Sections\n6. Patterns of grade - School, Subjects where grades dropping, Subjects where grade improving, \n\n# Preparation of the data in the workable format\n\nA timeline of student activity was introduced\n\n```{r}\n\nAll_Stud_timeline_back3 <- All_Stud_timeline # The new data frame got after introducing STUD ID\n\n\n```\n\n\n# First set of aggregation and Analysis\nLet us now aggregate accross the readings and check for trends. \n\n```{r}\nlibrary(dplyr)\nlibrary(ggplot2)\n# Aggregating students data\n\nstud_agg1 <- All_Stud_timeline %>% group_by(StudID) %>% summarise(Conpop = sum(normpop,na.rm=TRUE),ConRace = sum(normrace,na.rm=TRUE),Condisc = sum(Discore,na.rm=TRUE),Congrad = sum(Congrade,na.rm=TRUE))\n\n# Let us look at some summary level stats\n\nrange(stud_agg1$Congrad)\n\n# A value of 27860 seems to be erraneous\n\ntemp <- stud_agg1 %>% filter(Congrad > 5000 )\n\nid <- paste(temp[2,1])\n\n# Sample case analysis\n\n# 1187110489 1187110489\n\nfor(i in 1:nrow(temp)){\n id <- paste(temp[i,1])\n\ntemp1 <- New_Stud_timeline %>% filter(StudID == id)\n\ntemp1 <- temp1 %>% filter(Congrade != 0)\n\ntemp$rec[i] <- nrow(temp1)\n  \n}\n\n\n# So there are duplicates in records in the Stud_timeline Df\n\n# Taking values of temp > 7\n\ntemp <- temp %>% filter(rec > 7)\n\n\n```\n\nTaking the aggregated values again after removing the duplicate Ids\n\n```{r}\n\n# Aggregating students data\n\nstud_agg1 <- New_Stud_timeline %>% group_by(StudID) %>% summarise(Conpop = sum(normpop,na.rm=TRUE),ConRace = sum(normrace,na.rm=TRUE),Condisc = sum(Discore,na.rm=TRUE),Congrad = sum(Congrade,na.rm=TRUE))\n\n# Let us look at some summary level stats\n\nrange(stud_agg1$Congrad)\n\ntemp <- stud_agg1 %>% filter(Congrad == 27860 )\n\nid <- paste(temp[1,1])\n\n# Sample case analysis\n\n# 3885717684 1187110489\n\n\n\ntemp1 <- New_Stud_timeline %>% filter(StudID == \"3885717684\")\n\ntemp1 <- temp1 %>% filter(Congrade != 0)\n\ntemp$rec[i] <- nrow(temp1)\n\n# \n  \n\n```\n\nLet us try out some graphs for these and see some trends emerging\n\n```{r}\n\nq1 <- ggplot(stud_agg1,aes(StudID,Congrad)) + geom_point() \nq1 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Discipline issues\n\nq2 <- ggplot(stud_agg1,aes(StudID,Condisc)) + geom_point() \nq2 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Attendence\n\nq3 <- ggplot(stud_agg1,aes(StudID,Conpop)) + geom_point() \nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n\n```\n\nLet us now look at school wise trends. \n\n1. Which School has the heighest trend in Discipline\n2. Which school has the greatest trends in attendence and what type\n\n```{r}\nschool_agg1 <- New_Stud_timeline %>% group_by(StateOrganizationId) %>% summarise(Conpop = sum(normpop,na.rm=TRUE),ConRace = sum(normrace,na.rm=TRUE),Condisc = sum(Discore,na.rm=TRUE),Congrad = sum(Congrade,na.rm=TRUE))\n\n# Attendence plots of schools\nq1 <- ggplot(school_agg1,aes(as.factor(StateOrganizationId),Conpop)) + geom_point() \nq1 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n```\n\n# JMJPFU\n29-Sept-2016\n\nNeed to develop a new format for data aggregation\n\n# JMJPFU\n03-Oct-2016\n\nA new format was developed. Need to explore that further\n\n```{r}\nlibrary(dplyr)\nlibrary(ggplot2)\n\nschool_agg1 <- Desoto_New %>% group_by(SchoolID,FirstTier) %>% summarise(Convar = sum(Normvar,na.rm=TRUE))\n\n# Attendence plots of schools\nq1 <- ggplot(school_agg1,aes(as.factor(SchoolID),Convar,color=SchoolID,group=1)) + geom_point() + facet_grid(FirstTier~.,scales = \"free\")\nq1 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n```\n\n# JMJPFU\n05-10-2016\n\nLet us now get into inferential studies on this data set.\n\n```{r}\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\nschool_agg1 <- Desoto_New %>% group_by(SchoolID,FirstTier) %>% summarise(Convar = sum(Normpop,na.rm=TRUE))\n\n# Attendence plots of schools\nq1 <- ggplot(school_agg1,aes(as.factor(SchoolID),Convar,color=SchoolID,group=1)) + geom_line() + facet_grid(FirstTier~.,scales = \"free\")\nq1 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Taking a log of the variable to highlight it further\n\nschool_agg1$logvar <- log(school_agg1$Convar)\n\nq2 <- ggplot(school_agg1,aes(as.factor(NameOfInstitution),logvar,color=SchoolID,group=1)) + geom_line() + facet_grid(FirstTier~.,scales = \"free\")\nq2 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n```\n\nFrom the initial graph, it can be seen that JJAEP Dallas Co to be one of the worst performing school and Desoto High School, West Middle school, East Middle school and McCowan Middle school some of the best performing school.\n\nLet us first look at the JJAEP Dallas Co school and see what are the general trends around the school in terms of Attendence, Discipline and Grades\n\nThis school has only 10 students in it. So any further analysis for this school could be very skewed\n\n# Variable - Discipline\n\n```{r}\n\nJJEP_rec <- Desoto_New %>% filter(SchoolID == \"57906007\")\n\n# Making a Month and Day variables\n\nJJEP_rec$Month <- format(as.Date(as.character(JJEP_rec$Date)),\"%B\") # Month\n\nJJEP_rec$Day <- format(as.Date(as.character(JJEP_rec$Date)),\"%a\") # Month\n\nJJEP_disc <- Desoto_New %>% filter(SchoolID == \"57906007\" & FirstTier == \"Discipline\") %>% group_by(ThirdTier,Economic) %>% summarise(dissum = sum(Normpop))\n\n# Some pictorial representation of data # This representation dosent reveal anythin important\n\nq3 <- ggplot(JJEP_rec,aes(Month,Normpop,color=Economic,group=1)) + geom_point() + facet_grid(FirstTier~.,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n\n```\n\nOnly 5 records of discipline data and 4 of them are by economically advantaged students. \n\n# Variable Grade\n\n```{r}\n\n# Grades # hierarchy I - \n\nschool_grade <- Desoto_New %>% filter(FirstTier == \"Grade\") %>% group_by(SchoolID,SecondTier) %>% summarise(avggrd = mean(as.numeric(Variable),na.rm=TRUE))\n\nschool_grade <- school_grade[complete.cases(school_grade),]\n\nfor(i in 1:nrow(school_grade)){\n  temp <- school_grade$SecondTier[i]\n  \n  if(temp ==\"1\"){school_grade$SecondTier[i] <- \"01\"}\n  else if(temp ==\"2\"){school_grade$SecondTier[i] <- \"02\"}\n  else if(temp ==\"3\"){school_grade$SecondTier[i] <- \"03\"}\n  else if(temp ==\"4\"){school_grade$SecondTier[i] <- \"04\"}\n  else if(temp ==\"5\"){school_grade$SecondTier[i] <- \"05\"}\n  else if(temp ==\"6\"){school_grade$SecondTier[i] <- \"06\"}\n  else if(temp ==\"7\"){school_grade$SecondTier[i] <- \"07\"}\n  else if(temp ==\"8\"){school_grade$SecondTier[i] <- \"08\"}\n  else if(temp ==\"9\"){school_grade$SecondTier[i] <- \"09\"}\n  \n  \n}\n\nq3 <- ggplot(school_grade,aes(as.factor(SecondTier),color = as.factor(SchoolID),avggrd,group=1)) + geom_line() + facet_grid(SchoolID~.,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n```\n\nLet us get into a new aggregatin template\n\nMonth > Attendence type > Economic > sum of variable\n\n```{r}\n# Visualisation for Discipline and Attendence - Hierarchy I - Month wise both discipline and attendence together\n\nJJEP_disc <- JJEP_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,group=1)) + geom_line()\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Discipline and Attendence - Hierarchy II - Month wise both discipline and attendence together. Seperating as per economic character\n\nJJEP_disc <- JJEP_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,Economic) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(.~Economic)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n# Visualisation for Discipline and Attendence - Hierarchy III - Month wise , Tier wise , Economic \n\nJJEP_disc <- JJEP_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,ThirdTier,Economic) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(ThirdTier~Economic,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Hierarchy III - Another perspective for Visualisation for Discipline and Attendence\n\nJJEP_disc2 <- JJEP_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Economic,Month,FirstTier) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc2$Month <- factor(JJEP_disc2$Month,month.name)\n\n# Visualising the terms \n\nq3 <- ggplot(JJEP_disc2,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(FirstTier~Economic,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Grades\n\nJJEP_disc1 <- JJEP_rec %>% filter(FirstTier == \"Grade\") %>% group_by(SecondTier,Economic) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualising the terms \n\nq3 <- ggplot(JJEP_disc1,aes(SecondTier,dissum,color=Economic,group=1)) + geom_line() + facet_grid(.~Economic)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n```\n\nSo here are the findings from teh first school.\n\n1. No of students is very low. So not a good indicator for any trends\n2. The grades of economically advantaged students are better than economically disadvantaged students\n3. The course/period 2 shows the highest grade for both advantaged and disadvantaged students\n4. Incidents both in terms of discipline and attendence is more pronounced in Feb. However there are two trends i.e it peaks in the second month after the school reopens after the break\n5. Economically disadvantaged have more instance of incidents than advantaged\n6. For Economically advantaged students the peak of incidents were found to be in Sept- oct for as for disadvantaged students Feb-March was the more prominenet months\n\n# School DAEP - Same kind of trends\n\n```{r}\n\nSchool_rec <- Desoto_New %>% filter(SchoolID == \"57906008\")\n\n# Making a Month and Day variables\n\nSchool_rec$Month <- format(as.Date(as.character(School_rec$Date)),\"%B\") # Month\n\nSchool_rec$Day <- format(as.Date(as.character(School_rec$Date)),\"%a\") # Month\n\n# Also creating a normalisation variable for economically advantaged and economically disadvantaged\n\nSchool_rec$Normec <- NA\n\nfor(i in 1:nrow(School_rec)){\n  temprec <- paste(School_rec$FirstTier[i])\n  \n  if(temprec != \"Grade\"){\n    \n    tempec <- paste(School_rec$Economic[i])\n    ifelse(tempec == \"Yes\",School_rec$Normec[i] <- as.numeric(School_rec$Variable[i])/327,School_rec$Normec[i] <- as.numeric(School_rec$Variable[i])/107)\n    \n    \n  }\n  \n  \n}\n\n\n```\n\nNext level of analysis\n\n```{r}\n\n# Visualisation for Discipline and Attendence - Hierarchy I - Month wise both discipline and attendence together\n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,group=1)) + geom_line()\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Discipline and Attendence - Hierarchy II - Month wise both discipline and attendence together. Seperating as per economic character\n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,Economic) %>% summarise(dissum = sum(Normec))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(.~Economic)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n# Visualisation for Discipline and Attendence - Hierarchy III - Month wise , Tier wise , Economic \n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,SecondTier,Economic) %>% summarise(dissum = sum(as.numeric(Normec)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(SecondTier~Economic,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Hierarchy III - Another perspective for Visualisation for Discipline and Attendence\n\nJJEP_disc2 <- JJEP_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Economic,Month,FirstTier) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc2$Month <- factor(JJEP_disc2$Month,month.name)\n\n# Visualising the terms \n\nq3 <- ggplot(JJEP_disc2,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(FirstTier~Economic,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Grades - Hierarchy I - Grades\n\nJJEP_disc1 <- School_rec %>% filter(FirstTier == \"Grade\") %>% group_by(SecondTier) %>% summarise(avggrd = mean(as.numeric(Variable),na.rm=TRUE))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualising the terms \n\nq3 <- ggplot(JJEP_disc1,aes(SecondTier,avggrd,group=1)) + geom_line() \nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Grades - Hierarchy II - Grades & Economic angle\n\nJJEP_disc1 <- School_rec %>% filter(FirstTier == \"Grade\") %>% group_by(SecondTier,Economic) %>% summarise(avggrd = mean(as.numeric(Variable),na.rm=TRUE))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc1,aes(SecondTier,avggrd,color=Economic,group=1)) + geom_line() + facet_grid(.~Economic)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n# Visualisation for Grades - Hierarchy III - Grades, Race & Economic angle\n\nJJEP_disc1 <- School_rec %>% filter(FirstTier == \"Grade\") %>% group_by(SecondTier,Race,Economic) %>% summarise(avggrd = mean(as.numeric(Variable),na.rm=TRUE))\n\nJJEP_disc1$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc1,aes(SecondTier,avggrd,color=Race,group=1)) + geom_line() + facet_grid(Economic~Race)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n# # Perspective 2 - Combination of absence and grades. ( This dosent give a good indication)# \n# JJEP_disc1 <- School_rec %>% filter(FirstTier == \"Grade\")# \n# JJEP_disc1$FifthTier <- JJEP_disc1$SecondTier # Bringing common features together# \n# JJEP_disc <- JJEP_disc1 %>% group_by(FifthTier) %>% summarise(Agg = mean(as.numeric(Variable),na.rm=TRUE))\n# JJEP_disc1 <- School_rec %>% filter(FirstTier == \"Attendence\") \n# JJEP_disc2 <- JJEP_disc1 %>% group_by(FifthTier) %>% summarise(Agg = sum(as.numeric(Variable),na.rm=TRUE))\n\n\n```\n\n1. This school is following the general trend of all instances peaking in Feb and then April and May. Also there are some peaks happening in Oct also\n2. The incidents are peaking for economically advantaged in Feb and for the disadvantaged in April May\n3. Economically disadvantaged students have greater instances of indiscipline. The trend peaks in Sept and Feb. Incidentally second month after the school starts\n4. Economically advantaged students tend to take excused absence in comparison with the economically disadvantaged population. The excused leaves for advantaged people is high in April, May and also shows a momentary peak in February. However for disadvantaged students, the peak in in February and then it tapes of\n5. In terms of tardiness the advantaged students show peak in Feb and the disadvantaged show in Feb, Apri,May and also a smaller peak in October\n6. Unexcused absence : Again for advantaged folks the peak is around Feb-March time frame and then it peaks in December. However for disadvantaged students it is for April, May and then there is a gradual peak around Nov, December.\n7. From a grade perspective for this school, the average grades for 7 & 6 are higher and that from 1 & 5 are the lowest.\n8. From an economic perspective, there seems to be a difference in the average grade achieved by people of economic position. Where as the people of economically advantaged are seen to have higher average grades than that of economically disadvantaged students. There is also a variation as to the relative achievement of grades with respect to the subjects for economically advantaged and disadvantaged. Econmomically disadvantaged students tend to be doing badly in 5 relative to advantaged students. However economically advantaged tend to relatively do bad in subject 4 compared to the disadvantaged group.\n9. From a Race perspective, the American Indian race tends to be faring relatively better than other races from both the advantaged and disadvantaged sections. Now going back to the specific subjects, Subject 1 is low because of the low average of the advantaged white resources. However it needs to be seen whether this is just a one off case or whether we can see such trends accross schools\n\n# Another school\n\n# Woodridge Elementary\n\n```{r}\n\nSchool_rec <- Desoto_New %>% filter(SchoolID == \"57906109\")\n\n# Making a Month and Day variables\n\nSchool_rec$Month <- format(as.Date(as.character(School_rec$Date)),\"%B\") # Month\n\nSchool_rec$Day <- format(as.Date(as.character(School_rec$Date)),\"%a\") # Month\n\n# Also creating a normalisation variable for economically advantaged and economically disadvantaged\n\ntable(School_rec$Economic)\n\n# No   Yes \n# 17109 47810 \n\nSchool_rec$Normec <- NA\n\nfor(i in 1:nrow(School_rec)){\n  temprec <- paste(School_rec$FirstTier[i])\n  \n  if(temprec != \"Grade\"){\n    \n    tempec <- paste(School_rec$Economic[i])\n    ifelse(tempec == \"Yes\",School_rec$Normec[i] <- as.numeric(School_rec$Variable[i])/605,School_rec$Normec[i] <- as.numeric(School_rec$Variable[i])/256)\n    \n    \n  }\n  \n}\n\n```\n\nNext level of analysis.\n\n```{r}\n\n# Visualisation for Discipline and Attendence - Hierarchy I - Month wise both discipline and attendence together\n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,group=1)) + geom_line()\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Discipline and Attendence - Hierarchy II - Month wise both discipline and attendence together. Seperating as per economic character\n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,Economic) %>% summarise(dissum = sum(Normec))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(.~Economic)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Discipline and Attendence - Hierarchy III - Month wise both discipline and attendence together. Seperating as per economic & Race character\n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,Race,Economic) %>% summarise(dissum = sum(as.numeric(Normec)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Race,group=1)) + geom_line() + facet_grid(Race~Economic,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Visualisation for Discipline and Attendence - Hierarchy IV - Month wise , Tier wise , Economic \n\nJJEP_disc <- School_rec %>% filter(FirstTier != \"Grade\") %>% group_by(Month,SecondTier,Economic) %>% summarise(dissum = sum(as.numeric(Normec)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(Month,dissum,color=Economic,group=1)) + geom_line() + facet_grid(SecondTier~Economic,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Detailed perspective on Discipline alone - Hierarchy I\n\n\nJJEP_disc <- School_rec %>% filter(FirstTier == \"Discipline\") %>% group_by(ThirdTier) %>% summarise(dissum = sum(as.numeric(Variable)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(ThirdTier,dissum,group=1)) + geom_line() \nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Discipline - Hierarchy II - Type of disciline and economic status\n\nJJEP_disc <- School_rec %>% filter(FirstTier == \"Discipline\") %>% group_by(ThirdTier,Economic) %>% summarise(dissum = sum(as.numeric(Normec)))\n\nJJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(ThirdTier,dissum,color = Economic,group=1)) + geom_line() + facet_grid(.~Economic)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Looking at absolute count\n\nJJEP_disc <- School_rec %>% filter(FirstTier == \"Discipline\") %>% group_by(ThirdTier,Economic) %>% summarise(dissum = sum(as.numeric(Variable)))\n\n# Let us bring in Race wise composition into Discipline - Hierarchy III\n\nJJEP_disc <- School_rec %>% filter(FirstTier == \"Discipline\") %>% group_by(ThirdTier,Race,Economic) %>% summarise(dissum = sum(as.numeric(Variable)))\n\n#JJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(ThirdTier,dissum,color = Race,group=1)) + geom_line() + facet_grid(.~Race)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Normalising with respect to Race\n\nSchool_rec1 <- School_rec %>% filter(FirstTier == \"Discipline\")\nSchool_rec1$Normrace <- NA\n\n\nfor(i in 1:nrow(School_rec1)){\n  \n  tempec <- paste(School_rec$Race[i])\n    \n  if(tempec == \"Black - African American\"){School_rec1$Normrace[i] <- as.numeric(School_rec1$Variable[i])/714}\n  else if(tempec == \"White\"){School_rec1$Normrace[i] <- as.numeric(School_rec1$Variable[i])/134} \n  else if(tempec == \"Asian\"){School_rec1$Normrace[i] <- as.numeric(School_rec1$Variable[i])/19}\n  else if(tempec == \"American Indian - Alaskan Native\"){School_rec1$Normrace[i] <- as.numeric(School_rec1$Variable[i])/69}\n  else if(tempec == \"Native Hawaiian - Pacific Islander\"){School_rec1$Normrace[i] <- as.numeric(School_rec1$Variable[i])/3}\n  \n}\n\nJJEP_disc <- School_rec1 %>% group_by(ThirdTier,Race,Economic) %>% summarise(dissum = sum(as.numeric(Normrace)))\n\nq3 <- ggplot(JJEP_disc,aes(ThirdTier,dissum,color = Race,group=1)) + geom_line() + facet_grid(.~Race)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Let us bring in Race wise composition into Discipline - Hierarchy IV\n\nJJEP_disc <- School_rec1 %>% filter(FirstTier == \"Discipline\") %>% group_by(ThirdTier,Race,Economic) %>% summarise(dissum = sum(as.numeric(Normrace)))\n\n#JJEP_disc$Month <- factor(JJEP_disc$Month,month.name)\n\n# Visualisation\n\nq3 <- ggplot(JJEP_disc,aes(ThirdTier,dissum,color = Race,group=1)) + geom_line() + facet_grid(Economic~Race)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n  \n\n\n\n\n\n```\n\n1. Discipline and attendence incidents are heighest during the spring semester compared to the fall semester. For this school it shows a zig-zag trend with the numbers heighest in Jan and then following a zig zag pattern. After the month of October all incidents shows a dip.\n2. From the perspective of number of incidents from a relative scale, the case of both economically advantaged and disadvantaged are the same.\n\n3. If we bring in the perspective of race and economic status together then the trends are kind of mixed. \nAmerican Indian - Economically advantaged has far lesser number of incidents than economically disadvantaged. However the time period is almost similar\nAsian - The advantaged show more incidents in the Spring season than disadvantaged\nAfrican-American - Even for the African American, the incidents for advantaged and disadvantaged is similar during the Spring season, however during the fall semester the disadvantaged show dominant trends.\nWhites - For whites the disadvantaged show more propensity for incidents in all seasons.\n\n4. Hierarchy 4 : From  a normalised scale, the economically advantaged shows more incidents than the disadvantaged. It kind of peaks in the first two months of the beginning of the spring semester and then it subsides. Then it peaks in October\n\nExcused Absence : The disadvantaged are taking more excused absence from a relative scale. The prevelance of excused absence is more during the month of March. Does this mean some sports season ??\n\nTardiness : The disadvantaged far outweigh the advantaged in all sense\n\nUnexcused absence :For both advantaged and disadvantaged peaks in April. For disadvantaged it peaks also in October month \n\n5 . Discipline : Most of the incidence of discipline are just termed as misconduct. The relative proportion from a normalised scale for discipline is more prevelant for the advantaged class.\n\n\n# JMJPFU\n# 14-Oct-2016\n\nLet us now look at a new school and a fresh analysis. \n\n# School : Cockrell Hill Elementary School\n\n```{r}\n\nJJEP_rec <- Desoto_New %>% filter(SchoolID == \"57906107\")\n\n# Making a Month and Day variables\n\nJJEP_rec$Month <- format(as.Date(as.character(JJEP_rec$Date)),\"%B\") # Month\n\nJJEP_rec$Day <- format(as.Date(as.character(JJEP_rec$Date)),\"%a\") # Month\n\nJJEP_disc <- Desoto_New %>% filter(SchoolID == \"57906007\" & FirstTier == \"Discipline\") %>% group_by(ThirdTier,Economic) %>% summarise(dissum = sum(Normpop))\n\n# Some pictorial representation of data # This representation dosent reveal anythin important\n\nq3 <- ggplot(JJEP_rec,aes(Month,Normpop,color=Economic,group=1)) + geom_point() + facet_grid(FirstTier~.,scales = \"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n```\n\n# Grade Level Information\n\n```{r}\nCockrell_grade <- JJEP_rec %>% filter(FirstTier == \"Grade\")\n\n# Hierarchy I : Looking accross the subjects on average grades\n\nCockrell_grade_sub1 <- Cockrell_grade %>% group_by(ThirdTier) %>% summarise(mean(as.numeric(Variable),na.rm=TRUE))\n\nCockrell_grade_sub1 <- Cockrell_grade_sub1[complete.cases(Cockrell_grade_sub1),]\ncolnames(Cockrell_grade_sub1)[2] <- \"Variable\"\nCockrell_grade_sub1$Measure <- \"Grade\"\n\n\n# Let us do some visualisation accross the subjects as to performance in terms of grades\n\nq3 <- ggplot(Cockrell_grade_sub1,aes(ThirdTier,Grade,group=1)) + geom_line()\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n# Let us take the attendence also into this equation and find relationship\n\nCockrell_attend <- JJEP_rec %>% filter(FirstTier == \"Attendence\")\n\nCockrell_attend_sub1 <- Cockrell_attend %>% group_by(FourthTier) %>% summarise(sum(as.numeric(Variable),na.rm=TRUE))\n\n# Adding a new variable for attendence\n\nCockrell_attend_sub1$Measure <- \"Attendence\"\n\ncolnames(Cockrell_attend_sub1) <- names(Cockrell_grade_sub1)\n\nCockrell_comb <- rbind(Cockrell_grade_sub1,Cockrell_attend_sub1)\n\n# Let us do some visualisation\n\nq3 <- ggplot(Cockrell_comb,aes(ThirdTier,Variable,color=Measure,group=1)) + geom_point() + geom_line() + facet_grid(Measure~.,scale=\"free\")\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n```\n\nIn terms of relationship between attendence and grade here are the trends\n\n\n1. There is high level of attendence issues for the subject 101. The average grades within that subject is not great\n\n2. There isn't any great discernable patterns being manifested with Attendence and grades. Only general trend is that where ever there are high incidents of attendence the grades are not there high up there.\n\n3. In terms of grades - Subjects 49101 & 39101 have the highest average grades : Subjects : 159251,29501 and 39501 have the lowest grades.\n\n4. In terms of attendence, TSDSATT has the highest incidents of  attendence. The next higher ones are 101,201 and 301.\n\n# Grades and Economic condition.\n\nLet us ask this question as to whether there are some subjects which shows average grade difference with respect to economic conditions.\n\n```{r}\nCockrell_grade_sub1 <- Cockrell_grade %>% group_by(Economic,ThirdTier) %>% summarise(mean(as.numeric(Variable),na.rm=TRUE))\n\nCockrell_grade_sub1 <- Cockrell_grade_sub1[complete.cases(Cockrell_grade_sub1),]\n\ncolnames(Cockrell_grade_sub1)[3] <- \"Variable\"\n\n# Let us do some visualisations\n\nq3 <- ggplot(Cockrell_grade_sub1,aes(ThirdTier,Variable,color = Economic,group=1)) + geom_line() + geom_point()+ facet_grid(Economic~.)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n```\n\nMost of the trends for both economically advantaged and disadvantaged are almost similar. Some of the major deviations are in the following subjects. \n\n1. 301 - Economically disadvantaged score much better than econimically advantaged. \n2. 159351 - The same trend continues where economically disadvantaged are much better off that the advantaged.\n\n# Grades - Economic - Race.\n\nLet us try to bring all these perspectives together\n\n```{r}\n\nCockrell_grade_sub1 <- Cockrell_grade %>% group_by(Race,Economic,ThirdTier) %>% summarise(mean(as.numeric(Variable),na.rm=TRUE))\n\nCockrell_grade_sub1 <- Cockrell_grade_sub1[complete.cases(Cockrell_grade_sub1),]\n\ncolnames(Cockrell_grade_sub1)[4] <- \"Variable\"\n\n# Let us do some visualisations\n\nq3 <- ggplot(Cockrell_grade_sub1,aes(ThirdTier,Variable,color = Economic,group=1)) + geom_line() + geom_point()+geom_smooth(method = \"lm\")+ facet_grid(Economic~Race)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n```\n\nThe three perspectives of Race, Economic and grades gives a very intersting trends.\n\n# General Trends\n\n1. The variability in marks of the Black-African American race is the lowest for both advantaged and disadvantaged classes. \n2. Eventhough Asians have seen to have taken less of courses, their grade achievement is much higher than the other races.\n3. The absolute variability is the highest for the advantaged American-Indian. They are the ones which touches the lowest grades the most. \n\n```{r}\n# Let us get a better view of each races\n\nCockrell_grade_sub2 <- Cockrell_grade_sub1 %>% filter(Race == \"White\")\n\nq3 <- ggplot(Cockrell_grade_sub2,aes(ThirdTier,Variable,color = Economic,group=1)) + geom_line() + geom_point()+geom_smooth(method = \"lm\")+ facet_grid(Economic~Race)\nq3 + theme(axis.text.x=element_text(angle=70,hjust=1))\n\n\n```\n\n\n# Trends for African-Americans\n1. The variability of marks is the lowest for African-Americans. The same is the case for both advantaged and disadvantaged classes.\n2. The mean score achieved by the advantaged classes are little over the disadvantaged classes.\n3. 39101 and 49101 are the subjects where the scores are the best. This is the case for both advantaged and disadvantaged classes.\n4.Econimically advantaged students, relatively fare badly in the following courses : 39501,29501 & 19251. However for the disadvantaged students the respective low scoring subjects are 159251,29501 & 201.\n5.159251 is particularly low scoring for disadvantaged however the advantaged tend to be better in this subject\n# Trends for Whites\n1. The variability of marks for whites is bit more than that of African-American. The mean of the marks for all the subjects are a bit higher than the African-American for the economically advantaged sections.\n2. The mean marks achieved by advantaged is higher than the disadvantaged class\n3.39401,39101 & 19301 are the most scoring subjects for the advantaged. 49101,39101 & 19301 are the most scoring for the disadvantaged classes.\n4. \n\n```{r}\n# Taking back up\n\nDesoto_New_back <- Desoto_New\n```\n\n",
    "created" : 1474531840774.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2162157249",
    "id" : "6C14585",
    "lastKnownWriteTime" : 1478866790,
    "last_content_update" : 1479378823713,
    "path" : "C:/Customers/Edex/Desoto_R/Att_Disc_Achievement.Rmd",
    "project_path" : "Att_Disc_Achievement.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}